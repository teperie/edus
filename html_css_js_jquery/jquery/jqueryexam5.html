<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="jquery-3.7.1.js"></script>
    <script>
      $(function () {
        let form = $("form[name=calculator]");
        let money = $("input[id=money]");
        let months = $("select[id=months]");
        let interest = $("input[id=interest]");
        let moneyBefore = $("#money-before");
        let moneyAfter = $("#money-after");
        let heightAfter = $("#height-after");

        let calculate = function () {
          let moneyValue = +money.val();
          let monthsValue = +months.val();
          let interestValue = +interest.val();
          // 단리
          moneyAfterValue = moneyValue + (moneyValue * interestValue / 100);
          // 복리
        //   let moneyAfterValue = moneyValue * (1 + interestValue / 100) ** (monthsValue / 12);
          moneyBefore.text(moneyValue);
          moneyAfter.text(moneyAfterValue);
          heightAfter.height(100 * moneyAfter.height() / moneyValue);
        };

        calculate();

        form.on("keyup", calculate).on("change", calculate);

        $("#diagram").children("div").css({
          float: "bottom",
          width: "40px",
          height: "100px",
        });
      });
    </script>
  </head>
  <body>
    예금 이자 계산기

    <form name="calculator">
      <table>
        <tr>
          <td><label for="money">예치금액</label></td>

          <td>
            <input
              id="money"
              name="money"
              type="number"
              value="10000"
              required
            />
          </td>
        </tr>

        <tr>
          <td><label for="months">예치기간</label></td>

          <td>
            <select id="months" name="months">
              <option value="3">3 (최단 예치기간)</option>

              <option value="6">6 (반년)</option>

              <option value="12" selected>12 (1년)</option>

              <option value="18">18 (1.5년)</option>

              <option value="24">24 (2년)</option>

              <option value="30">30 (2.5년)</option>

              <option value="36">36 (3년)</option>

              <option value="60">60 (5년)</option>
            </select>
          </td>
        </tr>

        <tr>
          <td><label for="interest">연이자율</label></td>

          <td>
            <input
              id="interest"
              name="interest"
              type="number"
              value="5"
              required
            />
          </td>
        </tr>
      </table>
    </form>
    <table id="diagram">
      <tr>
        <th>원금</th>

        <th>만기지급금액</th>
      </tr>

      <tr>
        <th id="money-before"></th>

        <th id="money-after"></th>
      </tr>

      <td>
        <div style="background: red; width: 40px; height: 100px"></div>
      </td>

      <td>
        <div
          style="background: green; width: 40px; height: 0"
          id="height-after"
        ></div>
      </td>
    </table>
  </body>
</html>
