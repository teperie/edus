<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD mapper 3.0 //EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mapper.article">
	<insert id="insertArticle" parameterType="article">
		insert into article
		(title,content,writer,filename,imgfilename)
		values(#{title},#{content},#{writer},#{filename},#{imgfilename})
	</insert>
	<select id="selectArticle" parameterType="Integer"
		resultType="article">
		select * from article
		where num=#{num}
	</select>
	<select id="selectArticleList" resultType="article"
		parameterType="Integer">
		select * from article
		order by num asc limit #{row}, 5
	</select>
	<update id="updateArticle" parameterType="article">
		update article set
		title=#{title}, content=#{content},
		filename=#{filename},
		imgfilename=#{imgfilename}
		where num=#{num}
	</update>
	<update id="updateViewCount" parameterType="Integer">
		update article
		set viewcnt = viewcnt + 1
		where num = #{num}
	</update>

	<select id="selectArticleCount" resultType="Integer">
		select count(*) from
		article
	</select>
	<delete id="deleteArticle" parameterType="Integer">
		delete from article where num=#{num}
	</delete>
</mapper>